<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>components/Auth/SignIn.jsx - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-App.html">App</a><ul class='methods'><li data-type='method'><a href="module-App.html#~App">App</a></li></ul></li><li><a href="module-AppRoutes.html">AppRoutes</a><ul class='methods'><li data-type='method'><a href="module-AppRoutes.html#~AppRoutes">AppRoutes</a></li></ul></li><li><a href="module-CheckoutForm.html">CheckoutForm</a><ul class='methods'><li data-type='method'><a href="module-CheckoutForm.html#~CheckoutForm">CheckoutForm</a></li><li data-type='method'><a href="module-CheckoutForm.html#~handlePayPal">handlePayPal</a></li><li data-type='method'><a href="module-CheckoutForm.html#~handleSubmit">handleSubmit</a></li></ul></li><li><a href="module-Cookies.html">Cookies</a><ul class='methods'><li data-type='method'><a href="module-Cookies.html#~Cookies">Cookies</a></li></ul></li><li><a href="module-FaqPage.html">FaqPage</a><ul class='methods'><li data-type='method'><a href="module-FaqPage.html#~FaqPage">FaqPage</a></li></ul></li><li><a href="module-Features.html">Features</a><ul class='methods'><li data-type='method'><a href="module-Features.html#~Features">Features</a></li></ul></li><li><a href="module-Footer.html">Footer</a><ul class='methods'><li data-type='method'><a href="module-Footer.html#~Footer">Footer</a></li></ul></li><li><a href="module-Home.html">Home</a><ul class='methods'><li data-type='method'><a href="module-Home.html#~ChatAssistant">ChatAssistant</a></li><li data-type='method'><a href="module-Home.html#~Home">Home</a></li><li data-type='method'><a href="module-Home.html#~HomeContent">HomeContent</a></li><li data-type='method'><a href="module-Home.html#~ImageLoader">ImageLoader</a></li></ul></li><li><a href="module-LegalNotice.html">LegalNotice</a><ul class='methods'><li data-type='method'><a href="module-LegalNotice.html#~LegalNotice">LegalNotice</a></li></ul></li><li><a href="module-Navbar.html">Navbar</a><ul class='methods'><li data-type='method'><a href="module-Navbar.html#~Navbar">Navbar</a></li><li data-type='method'><a href="module-Navbar.html#~handleLogout">handleLogout</a></li><li data-type='method'><a href="module-Navbar.html#~toggleMenu">toggleMenu</a></li></ul></li><li><a href="module-Payment.html">Payment</a><ul class='methods'><li data-type='method'><a href="module-Payment.html#~Payment">Payment</a></li></ul></li><li><a href="module-PaymentSuccess.html">PaymentSuccess</a><ul class='methods'><li data-type='method'><a href="module-PaymentSuccess.html#~PaymentSuccess">PaymentSuccess</a></li><li data-type='method'><a href="module-PaymentSuccess.html#~useEffect">useEffect</a></li></ul></li><li><a href="module-Pricing.html">Pricing</a><ul class='methods'><li data-type='method'><a href="module-Pricing.html#~Features">Features</a></li><li data-type='method'><a href="module-Pricing.html#~Pricing">Pricing</a></li><li data-type='method'><a href="module-Pricing.html#~PricingCard">PricingCard</a></li><li data-type='method'><a href="module-Pricing.html#~Testimonials">Testimonials</a></li><li data-type='method'><a href="module-Pricing.html#~handleSelectPlan">handleSelectPlan</a></li></ul></li><li><a href="module-Profile.html">Profile</a><ul class='methods'><li data-type='method'><a href="module-Profile.html#~Profile">Profile</a></li><li data-type='method'><a href="module-Profile.html#~handleLogout">handleLogout</a></li><li data-type='method'><a href="module-Profile.html#~useEffect">useEffect</a></li></ul></li><li><a href="module-Room.html">Room</a><ul class='methods'><li data-type='method'><a href="module-Room.html#~ErrorMessage">ErrorMessage</a></li><li data-type='method'><a href="module-Room.html#~LoadingSpinner">LoadingSpinner</a></li><li data-type='method'><a href="module-Room.html#~UploadSection">UploadSection</a></li><li data-type='method'><a href="module-Room.html#~isJsonResponse">isJsonResponse</a></li><li data-type='method'><a href="module-Room.html#~parseResponse">parseResponse</a></li></ul></li><li><a href="module-SignIn.html">SignIn</a><ul class='methods'><li data-type='method'><a href="module-SignIn.html#~GoogleSignInButton">GoogleSignInButton</a></li><li data-type='method'><a href="module-SignIn.html#~SignIn">SignIn</a></li><li data-type='method'><a href="module-SignIn.html#~SignInFooterLinks">SignInFooterLinks</a></li><li data-type='method'><a href="module-SignIn.html#~SignInForm">SignInForm</a></li><li data-type='method'><a href="module-SignIn.html#~SignInHeader">SignInHeader</a></li><li data-type='method'><a href="module-SignIn.html#~handleSubmit">handleSubmit</a></li></ul></li><li><a href="module-SignUp.html">SignUp</a><ul class='methods'><li data-type='method'><a href="module-SignUp.html#~GoogleSignUpButton">GoogleSignUpButton</a></li><li data-type='method'><a href="module-SignUp.html#~SignUp">SignUp</a></li><li data-type='method'><a href="module-SignUp.html#~SignUpForm">SignUpForm</a></li><li data-type='method'><a href="module-SignUp.html#~SignUpHeader">SignUpHeader</a></li><li data-type='method'><a href="module-SignUp.html#~handleInputChange">handleInputChange</a></li><li data-type='method'><a href="module-SignUp.html#~handleSubmit">handleSubmit</a></li></ul></li><li><a href="module-SupportPage.html">SupportPage</a><ul class='methods'><li data-type='method'><a href="module-SupportPage.html#~SupportPage">SupportPage</a></li></ul></li><li><a href="module-UploadZone.html">UploadZone</a><ul class='methods'><li data-type='method'><a href="module-UploadZone.html#~ImagePreview">ImagePreview</a></li><li data-type='method'><a href="module-UploadZone.html#~UploadPrompt">UploadPrompt</a></li><li data-type='method'><a href="module-UploadZone.html#~UploadZone">UploadZone</a></li><li data-type='method'><a href="module-UploadZone.html#~handleClick">handleClick</a></li><li data-type='method'><a href="module-UploadZone.html#~handleDragLeave">handleDragLeave</a></li><li data-type='method'><a href="module-UploadZone.html#~handleDragOver">handleDragOver</a></li><li data-type='method'><a href="module-UploadZone.html#~handleDrop">handleDrop</a></li><li data-type='method'><a href="module-UploadZone.html#~handleFileInput">handleFileInput</a></li><li data-type='method'><a href="module-UploadZone.html#~handleFiles">handleFiles</a></li></ul></li><li><a href="module-main.html">main</a></li><li><a href="module-routes.html">routes</a></li><li><a href="module-stripePromise.html">stripePromise</a><ul class='methods'><li data-type='method'><a href="module-stripePromise.html#~CheckoutForm">CheckoutForm</a></li><li data-type='method'><a href="module-stripePromise.html#~handlePayPal">handlePayPal</a></li><li data-type='method'><a href="module-stripePromise.html#~handleSubmit">handleSubmit</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">components/Auth/SignIn.jsx</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Composant de connexion utilisateur
 * @module SignIn
 * @description Ce composant gÃ¨re l'authentification des utilisateurs via un formulaire de connexion
 * avec support de la connexion par email/mot de passe et via Google. Il inclut Ã©galement des liens
 * vers la rÃ©initialisation de mot de passe et l'inscription.
 */

import React, { memo, useCallback } from 'react';
import { FcGoogle } from 'react-icons/fc';
import { useDispatch, useSelector } from 'react-redux';
import { loginSuccess, loginError } from '../../store/slices/authSlice';
import { useNavigate, Link } from 'react-router-dom';

/**
 * Composant d'en-tÃªte de la page de connexion
 * @function SignInHeader
 * @description Affiche le titre de bienvenue et le bouton de mise Ã  niveau Pro
 * @returns {JSX.Element} Le composant d'en-tÃªte
 */
const SignInHeader = memo(() => (
  &lt;div className="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6">
    &lt;h2 className="text-2xl font-bold text-blue-600 mb-2 sm:mb-0">Bon retour !&lt;/h2>
    &lt;button className="bg-purple-400 hover:bg-purple-500 text-white font-bold py-2 px-4 rounded-full text-sm flex items-center self-start sm:self-auto">
      Passer Ã  Pro
      &lt;span className="ml-1 text-yellow-300">ðŸ‘‘&lt;/span>
    &lt;/button>
  &lt;/div>
));

/**
 * Composant de bouton de connexion Google
 * @function GoogleSignInButton
 * @description Affiche le bouton de connexion Google et le sÃ©parateur
 * @returns {JSX.Element} Le composant de bouton Google
 */
const GoogleSignInButton = memo(() => (
  &lt;>
    &lt;button className="w-full bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded-lg shadow flex items-center justify-center mb-4">
      &lt;FcGoogle className="mr-2" size={20} />
      Se connecter avec Google
    &lt;/button>

    &lt;div className="flex items-center mb-4">
      &lt;div className="flex-grow border-t border-gray-300">&lt;/div>
      &lt;span className="flex-shrink mx-4 text-gray-500">ou&lt;/span>
      &lt;div className="flex-grow border-t border-gray-300">&lt;/div>
    &lt;/div>
  &lt;/>
));

/**
 * Composant des liens de bas de page
 * @function SignInFooterLinks
 * @description Affiche les liens vers la rÃ©initialisation de mot de passe et l'inscription
 * @returns {JSX.Element} Le composant des liens de bas de page
 */
const SignInFooterLinks = memo(() => (
  &lt;>
    &lt;div className="text-sm text-gray-600">
      &lt;Link to="/mot-de-passe-oublie" className="text-blue-500 hover:text-blue-700">
        Mot de passe oubliÃ© ? Cliquez ici pour rÃ©initialiser.
      &lt;/Link>
    &lt;/div>

    &lt;div className="mt-4 text-sm text-gray-600">
      &lt;span>Vous n'avez pas de compte ? &lt;/span>
      &lt;Link to="/register" className="text-blue-500 hover:text-blue-700">
        Inscrivez-vous ici.
      &lt;/Link>
    &lt;/div>
  &lt;/>
));

/**
 * Composant de formulaire de connexion
 * @function SignInForm
 * @param {Object} props - Les propriÃ©tÃ©s du composant
 * @param {Function} props.onSubmit - Gestionnaire de soumission du formulaire
 * @param {string|null} props.error - Message d'erreur Ã  afficher
 * @returns {JSX.Element} Le composant de formulaire
 */
const SignInForm = memo(({ onSubmit, error }) => (
  &lt;form className="mb-4" onSubmit={onSubmit} role="form">
    {error &amp;&amp; &lt;p className="text-red-500 mb-4">{error}&lt;/p>}
    &lt;div className="mb-4">
      &lt;label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="email">
        E-mail
      &lt;/label>
      &lt;input 
        className="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" 
        name='email' 
        id="email" 
        type="email" 
        placeholder="Votre email" 
      />
    &lt;/div>
    &lt;div className="mb-6">
      &lt;label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="password">
        Mot de passe
      &lt;/label>
      &lt;input 
        className="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline" 
        name='password' 
        id="password" 
        type="password" 
        placeholder="Votre mot de passe" 
      />
    &lt;/div>
    &lt;button 
      className="w-full font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600 transition duration-300" 
      type="submit"
    >
      Connexion
    &lt;/button>
  &lt;/form>
));

/**
 * Composant principal de la page de connexion
 * @function SignIn
 * @description GÃ¨re l'ensemble du processus de connexion, y compris la soumission du formulaire
 * et la gestion des erreurs d'authentification
 * @returns {JSX.Element} La page de connexion complÃ¨te
 */
export default function SignIn() {
  const dispatch = useDispatch();
  const error = useSelector((state) => state.auth.error);
  const navigate = useNavigate();

  /**
   * Gestionnaire de soumission du formulaire
   * @function handleSubmit
   * @param {Event} e - L'Ã©vÃ©nement de soumission du formulaire
   * @async
   */
  const handleSubmit = useCallback(async (e) => {
    e.preventDefault();
    const formData = new FormData(e.target);
    const email = formData.get("email");
    const password = formData.get("password");
  
    try {
      const response = await fetch('https://dreamhabitat.djaouti.com/api/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ email, password }),
      });
  
      const data = await response.json();
  
      if (response.ok &amp;&amp; data.jwtToken) {
        dispatch(loginSuccess(data.jwtToken));
        navigate('/');
      } else {
        dispatch(loginError(data.message || 'Erreur de connexion'));
      }
    } catch (err) {
      dispatch(loginError('Erreur de connexion'));
    }
  }, [dispatch, navigate]);
  
  return (
    &lt;div className="flex flex-col items-center py-6 sm:py-10 bg-gray-100">
      &lt;div className="w-full max-w-md bg-white rounded-lg shadow-md p-6 sm:p-8">
        &lt;SignInHeader />

        &lt;p className="text-gray-600 mb-6">
          Connectez-vous Ã  votre compte Dream Habitat.
        &lt;/p>

        &lt;GoogleSignInButton />
        &lt;SignInForm onSubmit={handleSubmit} error={error} />

        &lt;div className="flex items-center justify-between mb-4">
          &lt;label className="flex items-center text-sm text-gray-500">
            &lt;input type="checkbox" className="mr-2 leading-tight" />
            Se souvenir de moi
          &lt;/label>
        &lt;/div>

        &lt;SignInFooterLinks />
      &lt;/div>
    &lt;/div>
  );
}</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a> on Fri May 02 2025 09:31:16 GMT+0200 (heure dâ€™Ã©tÃ© dâ€™Europe centrale) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
