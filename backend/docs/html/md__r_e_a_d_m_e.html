<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Dream Habitat - Backend API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Dream Habitat - Backend API</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a></p>
<p>Ce dépôt contient l'API backend pour <b>Dream Habitat</b>, un projet visant à proposer des aménagements personnalisés pour des habitats à partir de photos grâce à une Intelligence Artificielle. L'application permet aux utilisateurs de téléverser des photos d'espaces, et l'IA propose des solutions d'aménagement adaptées aux préférences et aux contraintes de l'utilisateur.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Fonctionnalités du Backend</h1>
<ul>
<li><b>Gestion des utilisateurs</b> : Créer, mettre à jour, et supprimer des utilisateurs via des API sécurisées.</li>
<li><b>Gestion des espaces (rooms)</b> : Ajouter des espaces (rooms) dans lesquels les utilisateurs peuvent téléverser des photos.</li>
<li><b>Gestion des photos</b> : Téléverser, récupérer, et gérer les photos liées aux espaces pour analyse IA.</li>
<li><b>Authentification JWT</b> : Sécurisation des endpoints via l'authentification par tokens JWT.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Membres de l'équipe</h1>
<ul>
<li><b>[Talatizi Kamel,Zhang Victor, Jean-Babtiste Damodarane]</b> : Développeurs backend principal</li>
<li><b>[Talatizi Kamel,Djaouti Youba]</b> : Développeur en charge de l'architecture API</li>
<li><b>[Touati Dan,Ibgui Nathan]</b> : Responsable intégration IA</li>
<li><b>[Djouati Youba]</b> : DevOps et gestion des infrastructures</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Technologies utilisées</h1>
<ul>
<li><b>Java 17</b> avec <b>Spring Boot</b> pour la structure du projet.</li>
<li><b>JWT (JSON Web Token)</b> pour l'authentification et la sécurité des endpoints.</li>
<li><b>Maven</b> pour la gestion des dépendances et la compilation du projet.</li>
<li><b>Base de données relationnelle</b> ( PostgreSQL) pour stocker les utilisateurs, espaces, et photos et d autres structure de données.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Comment créer et lancer le projet</h1>
<p>Pour développer et exécuter le projet Dream Habitat, suivez les étapes ci-dessous :</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Prérequis</h2>
<p>Assurez-vous d'avoir installé les éléments suivants sur votre machine :</p>
<ul>
<li><b>Java 17</b> ou supérieur</li>
<li><b>Maven</b> pour la gestion des dépendances</li>
<li>Un environnement de base de données ( PostgreSQL)</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Étapes d'installation</h2>
<ol type="1">
<li><b>Cloner le dépôt</b> : Ouvrez un terminal et exécutez la commande suivante pour cloner le dépôt : <div class="fragment"><div class="line">   git clone https://github.com/username/dream-habitat.git</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">2. Naviguer dans le dossier du projet :</div>
</div><!-- fragment --> bash cd dream-habitat <div class="fragment"><div class="line">3. Configurer la base de données :</div>
<div class="line">   Modifiez le fichier `src/main/resources/application.properties` pour configurer votre connexion à la base de données. Assurez-vous de définir les informations de connexion appropriées.</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">4. Construire le projet :</div>
<div class="line">   Exécutez la commande suivante pour compiler le projet et télécharger toutes les dépendances nécessaires :</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">5. Lancer l&#39;application : Pour démarrer le serveur, utilisez la commande suivante :</div>
</div><!-- fragment --> bash mvn spring-boot:run <div class="fragment"><div class="line">6. Exécution des tests</div>
<div class="line">Pour exécuter les tests unitaires et d&#39;intégration, utilisez la commande suivante :</div>
</div><!-- fragment --> bash mvn test <div class="fragment"><div class="line">## Gestion des Utilisateurs</div>
<div class="line"> </div>
<div class="line">Le contrôleur `UserController` gère les opérations CRUD (Create, Read, Update, Delete) pour les utilisateurs de l&#39;application Dream Habitat.</div>
<div class="line"> </div>
<div class="line">### Endpoints</div>
<div class="line"> </div>
<div class="line">- **POST /api/users/addUser**  </div>
<div class="line">  Crée un nouvel utilisateur.</div>
<div class="line">    - **Requête** :</div>
<div class="line">        - Corps : `UserCreateDTO` (nom, email, mot de passe)</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `201 Created` avec l&#39;objet `UserDTO` de l&#39;utilisateur créé.</div>
<div class="line"> </div>
<div class="line">- **GET /api/users/{id}**  </div>
<div class="line">  Récupère un utilisateur par son ID.</div>
<div class="line">    - **Requête** :</div>
<div class="line">        - Paramètre : `id` (ID de l&#39;utilisateur)</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` avec l&#39;objet `UserDTO` de l&#39;utilisateur correspondant.</div>
<div class="line"> </div>
<div class="line">- **GET /api/users/**  </div>
<div class="line">  Récupère la liste de tous les utilisateurs.</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` avec une liste d&#39;objets `UserDTO`.</div>
<div class="line"> </div>
<div class="line">- **PUT /api/users/update/{id}**  </div>
<div class="line">  Met à jour un utilisateur existant.</div>
<div class="line">    - **Requête** :</div>
<div class="line">        - Paramètre : `id` (ID de l&#39;utilisateur)</div>
<div class="line">        - Corps : `UserCreateDTO` (nom, email, mot de passe)</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` avec l&#39;objet `UserDTO` mis à jour.</div>
<div class="line"> </div>
<div class="line">- **DELETE /api/users/delete/{id}**  </div>
<div class="line">  Supprime un utilisateur par son ID.</div>
<div class="line">    - **Requête** :</div>
<div class="line">        - Paramètre : `id` (ID de l&#39;utilisateur)</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `204 No Content`</div>
<div class="line">## Authentification des Utilisateurs</div>
<div class="line"> </div>
<div class="line">Le contrôleur `LoginController` permet aux utilisateurs de se connecter à l&#39;application et génère des jetons JWT pour l&#39;authentification.</div>
<div class="line"> </div>
<div class="line">### Endpoints</div>
<div class="line"> </div>
<div class="line">- **POST /api/login**  </div>
<div class="line">  Authentifie un utilisateur et renvoie un jeton JWT.</div>
<div class="line">    - **Requête** :</div>
<div class="line">        - Corps : `LoginRequest` (email, mot de passe)</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` avec un objet `LoginResponse` contenant le jeton JWT si l&#39;authentification est réussie.</div>
<div class="line">        - `401 Unauthorized` si les informations d&#39;identification sont incorrectes.</div>
<div class="line">        - `404 Not Found` si l&#39;utilisateur n&#39;est pas trouvé.</div>
<div class="line"> </div>
<div class="line">## Gestion des Photos</div>
<div class="line"> </div>
<div class="line">Le contrôleur `PhotoController` permet de gérer l&#39;upload et la récupération des photos associées à des rooms (pièces) dans l&#39;application.</div>
<div class="line"> </div>
<div class="line">### Endpoints</div>
<div class="line"> </div>
<div class="line">- **POST /api/photo/upload**  </div>
<div class="line">  Permet d&#39;uploader une photo pour un utilisateur authentifié.</div>
<div class="line">    - **Requête** :</div>
<div class="line">        - Paramètres : `MultipartFile file`, `String name`, `String description`, `Room roomId`</div>
<div class="line">        - En-tête : `Authorization` (Bearer token JWT)</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` si la photo est uploadée avec succès.</div>
<div class="line">        - `401 Unauthorized` si l&#39;utilisateur n&#39;est pas authentifié.</div>
<div class="line">        - `500 Internal Server Error` en cas de problème lors de l&#39;upload.</div>
<div class="line"> </div>
<div class="line">- **GET /api/photo/room/{roomId}**  </div>
<div class="line">  Récupère les photos associées à une pièce donnée (room).</div>
<div class="line">    - **Requête** :</div>
<div class="line">        - Paramètre d&#39;URL : `Long roomId`</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` avec la liste des photos associées à la pièce.</div>
<div class="line"> </div>
<div class="line">## Gestion des Rooms</div>
<div class="line"> </div>
<div class="line">Le contrôleur `RoomController` permet de gérer les rooms (pièces) de l&#39;application, y compris la création, la récupération de rooms par ID et la récupération de toutes les rooms associées à un utilisateur spécifique.</div>
<div class="line"> </div>
<div class="line">### Endpoints</div>
<div class="line"> </div>
<div class="line">- **POST /api/room/create**  </div>
<div class="line">  Crée une nouvelle room.</div>
<div class="line">    - **Requête** :</div>
<div class="line">        - Corps de la requête : `RoomDTO` contenant les détails de la room.</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `201 CREATED` avec les détails de la room nouvellement créée.</div>
<div class="line">        - `400 BAD REQUEST` si le titre de la room est manquant.</div>
<div class="line">        - `404 NOT FOUND` si l&#39;utilisateur propriétaire de la room n&#39;est pas trouvé.</div>
<div class="line"> </div>
<div class="line">- **GET /api/room/all**  </div>
<div class="line">  Récupère toutes les rooms présentes dans l&#39;application.</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` avec la liste de toutes les rooms.</div>
<div class="line"> </div>
<div class="line">- **GET /api/room/{albumId}**  </div>
<div class="line">  Récupère une room par son ID.</div>
<div class="line">    - **Paramètre d&#39;URL** : `Long albumId`</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` avec les détails de la room.</div>
<div class="line">        - `404 NOT FOUND` si la room n&#39;est pas trouvée.</div>
<div class="line"> </div>
<div class="line">- **GET /api/room/user**  </div>
<div class="line">  Récupère toutes les rooms associées à un utilisateur spécifié par le token JWT.</div>
<div class="line">    - **En-tête** : `Authorization` (Bearer token JWT)</div>
<div class="line">    - **Réponse** :</div>
<div class="line">        - `200 OK` avec la liste des rooms de l&#39;utilisateur.</div>
<div class="line">        - `401 UNAUTHORIZED` si le token est manquant ou invalide.</div>
<div class="line"> </div>
<div class="line">#  Pour la configuration du back</div>
<div class="line"> </div>
<div class="line">- ajouter un fichier`.env` à la racine du projet</div>
</div><!-- fragment --> PWD=Mettez votre mot de passe pour la connexion à la base de donnée <div class="fragment"><div class="line">- ajouter au fichier `/src/main/resources/application.properties`</div>
<div class="line">  à la ligne ou se trouve spring.datasource.password mettez</div>
</div><!-- fragment --> spring.datasource.password= ${PWD} ``` </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
